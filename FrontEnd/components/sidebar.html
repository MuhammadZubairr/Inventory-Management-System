<!-- Left sidebar navigation -->
<aside id="adminSidebar" class="sidebar-nav d-flex flex-column" style="min-height: calc(100vh - 56px);">
  <!-- Sidebar header -->
  <div class="sidebar-header p-3 d-flex justify-content-between align-items-center">
    <h6 class="sidebar-title text-uppercase mb-0" style="font-size: 0.7rem; letter-spacing: 0.05em;">Navigation</h6>
  </div>

  <!-- Navigation menu (Scrollable) -->
  <nav aria-label="Admin sidebar navigation" class="sidebar-menu flex-grow-1 p-3">
    <ul class="nav nav-pills flex-column gap-1">
      <li class="nav-item">
        <a class="nav-link sidebar-link d-flex align-items-center" href="admin.html" data-page="admin">
          <i class="bi bi-speedometer2 me-2 sidebar-icon"></i>Dashboard
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link sidebar-link d-flex align-items-center" href="products.html" data-page="products">
          <i class="bi bi-box-seam me-2 sidebar-icon"></i>Products
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link sidebar-link d-flex align-items-center" href="suppliers.html" data-page="suppliers">
          <i class="bi bi-truck me-2 sidebar-icon"></i>Suppliers
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link sidebar-link d-flex align-items-center" href="warehouses.html" data-page="warehouses">
          <i class="bi bi-building me-2 sidebar-icon"></i>Warehouses
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link sidebar-link d-flex align-items-center" href="warehouse-transfer.html" data-page="warehouse-transfer">
          <i class="bi bi-arrow-left-right me-2 sidebar-icon"></i>Warehouse Transfer
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link sidebar-link d-flex align-items-center" href="stock-in.html" data-page="stock-in">
          <i class="bi bi-arrow-down-circle me-2 sidebar-icon"></i>Stock In
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link sidebar-link d-flex align-items-center" href="stock-out.html" data-page="stock-out">
          <i class="bi bi-arrow-up-circle me-2 sidebar-icon"></i>Stock Out
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link sidebar-link d-flex align-items-center" href="reports.html" data-page="reports">
          <i class="bi bi-graph-up me-2 sidebar-icon"></i>Reports
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link sidebar-link d-flex align-items-center" href="users.html" data-page="users">
          <i class="bi bi-people me-2 sidebar-icon"></i>Users
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link sidebar-link d-flex align-items-center" href="settings.html" data-page="settings">
          <i class="bi bi-gear me-2 sidebar-icon"></i>Settings
        </a>
      </li>
    </ul>
  </nav>

  <!-- Sidebar footer with Logout (Always visible at bottom) -->
  <div class="sidebar-footer mt-auto p-3">
    <button class="btn btn-outline-light btn-sm w-100 logout-btn sidebar-logout">
      <i class="bi bi-box-arrow-right me-2"></i>Logout
    </button>
  </div>

  <!-- Version Info -->
  <div class="sidebar-version px-3 pb-3">
    <div class="d-flex align-items-center justify-content-between">
      <small class="sidebar-version-text">v1.0.0</small>
      <button class="btn btn-link btn-sm p-0 sidebar-help" title="Help">
        <i class="bi bi-question-circle fs-5"></i>
      </button>
    </div>
  </div>
</aside>

<!-- Sidebar overlay for mobile -->
<div id="sidebarOverlay" class="sidebar-overlay"></div>

<!-- Sidebar Toggle Styles -->
<style>
  /* ===================================
     SIDEBAR COLOR VARIABLES
     Enterprise-grade dark sidebar theme
     =================================== */
  :root {
    /* Sidebar Background - Deep neutral charcoal */
    --sidebar-bg: #2c3e50;
    
    /* Sidebar Text - Bright white for maximum readability */
    --sidebar-text: #ffffff;
    --sidebar-text-muted: #b8c5d0;
    
    /* Sidebar Active/Accent - Bright professional blue */
    --sidebar-accent: #5dade2;
    --sidebar-accent-hover: #3498db;
    
    /* Sidebar Hover - Lighter background for visibility */
    --sidebar-hover-bg: rgba(93, 173, 226, 0.15);
    
    /* Sidebar Active - Clear highlight */
    --sidebar-active-bg: rgba(93, 173, 226, 0.25);
    
    /* Sidebar Border - Visible separator */
    --sidebar-border: rgba(255, 255, 255, 0.12);
    
    /* Icon opacity */
    --sidebar-icon-opacity: 0.85;
    --sidebar-icon-active-opacity: 1;
  }

  /* ===================================
     SIDEBAR BASE STYLES
     =================================== */
  .sidebar-nav {
    position: fixed;
    top: 56px;
    left: 0;
    bottom: 0;
    width: 250px;
    z-index: 1040;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
    background-color: var(--sidebar-bg);
    color: var(--sidebar-text);
  }

  .sidebar-nav.show {
    transform: translateX(0);
  }

  /* ===================================
     SIDEBAR HEADER
     =================================== */
  .sidebar-header {
    border-bottom: 1px solid var(--sidebar-border);
  }

  .sidebar-title {
    color: var(--sidebar-text-muted) !important;
    font-weight: 600;
  }

  /* ===================================
     SIDEBAR NAVIGATION LINKS
     =================================== */
  .sidebar-menu .nav-link.sidebar-link {
    color: var(--sidebar-text) !important;
    background-color: transparent;
    border-radius: 6px;
    padding: 0.625rem 0.875rem;
    font-size: 0.9375rem;
    font-weight: 500;
    transition: all 0.2s ease;
    border: none;
  }

  /* Hover state - subtle background */
  .sidebar-menu .nav-link.sidebar-link:hover {
    background-color: var(--sidebar-hover-bg) !important;
    color: var(--sidebar-text) !important;
  }

  /* Active state - highlighted */
  .sidebar-menu .nav-link.sidebar-link.active {
    background-color: var(--sidebar-active-bg) !important;
    color: var(--sidebar-accent) !important;
    font-weight: 600;
  }

  /* ===================================
     SIDEBAR ICONS
     =================================== */
  .sidebar-icon {
    opacity: var(--sidebar-icon-opacity);
    transition: opacity 0.2s ease;
    color: var(--sidebar-text) !important;
  }

  .sidebar-menu .nav-link.sidebar-link:hover .sidebar-icon,
  .sidebar-menu .nav-link.sidebar-link.active .sidebar-icon {
    opacity: var(--sidebar-icon-active-opacity);
  }

  .sidebar-menu .nav-link.sidebar-link.active .sidebar-icon {
    color: var(--sidebar-accent) !important;
  }

  /* ===================================
     SIDEBAR FOOTER
     =================================== */
  .sidebar-footer {
    border-top: 1px solid var(--sidebar-border);
  }

  .sidebar-logout {
    background-color: transparent;
    border-color: rgba(255, 255, 255, 0.3);
    color: var(--sidebar-text) !important;
    font-weight: 500;
    transition: all 0.2s ease;
  }

  .sidebar-logout:hover {
    background-color: rgba(231, 76, 60, 0.15) !important;
    border-color: #e74c3c !important;
    color: #e74c3c !important;
  }

  /* ===================================
     SIDEBAR VERSION INFO
     =================================== */
  .sidebar-version-text {
    color: var(--sidebar-text-muted) !important;
    font-size: 0.75rem;
  }

  .sidebar-help {
    color: var(--sidebar-text-muted) !important;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .sidebar-help:hover {
    color: var(--sidebar-text) !important;
  }

  /* ===================================
     SCROLLBAR STYLING (Optional)
     =================================== */
  .sidebar-nav::-webkit-scrollbar {
    width: 6px;
  }

  .sidebar-nav::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
  }

  .sidebar-nav::-webkit-scrollbar-thumb {
    background: rgba(236, 240, 241, 0.2);
    border-radius: 3px;
  }

  .sidebar-nav::-webkit-scrollbar-thumb:hover {
    background: rgba(236, 240, 241, 0.3);
  }

  /* Keep navbar full width and sticky */
  .navbar {
    position: sticky !important;
    top: 0 !important;
    z-index: 1050 !important;
  }

  .navbar.sticky-top {
    position: sticky !important;
    top: 0 !important;
  }

  /* Make main content full width always */
  .container-fluid > .row > main {
    flex: 0 0 100% !important;
    max-width: 100% !important;
    margin-left: 0 !important;
    transition: all 0.3s ease-in-out;
  }

  /* When sidebar is open, resize content to fit alongside sidebar */
  body.sidebar-open .container-fluid > .row > main {
    margin-left: 250px !important;
    flex: 0 0 calc(100% - 250px) !important;
    max-width: calc(100% - 250px) !important;
  }

  /* Overlay for mobile only */
  .sidebar-overlay {
    display: none;
  }

  @media (max-width: 767px) {
    .sidebar-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1039;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
    }
    
    .sidebar-overlay.show {
      display: block;
      opacity: 1;
    }

    /* On mobile, don't shift the content */
    body.sidebar-open .container-fluid > .row > main {
      margin-left: 0 !important;
      flex: 0 0 100% !important;
      max-width: 100% !important;
    }

    body.sidebar-open {
      overflow: hidden;
    }
  }

  /* Navbar Toggle Buttons */
  .navbar-toggle-btn {
    border: none;
    padding: 0.5rem;
    font-size: 1.25rem;
    line-height: 1;
    background-color: transparent;
    color: #212529;
    border-radius: 0.25rem;
    transition: all 0.15s ease-in-out;
    cursor: pointer;
  }

  .navbar-toggle-btn:hover {
    background-color: rgba(0, 0, 0, 0.05);
  }

  .navbar-toggle-btn:focus {
    outline: none;
    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
  }

  /* Hide back button by default */
  #backBtn {
    display: none;
  }
</style>

<!-- Sidebar Toggle Script -->
<!-- <script>
  
  (function() {
    const sidebar = document.getElementById('adminSidebar');
    const overlay = document.getElementById('sidebarOverlay');
    
    // Create hamburger and back buttons in navbar
    const navbar = document.querySelector('.navbar .container-fluid');
    if (navbar) {
      // Create container for both buttons
      const btnContainer = document.createElement('div');
      btnContainer.style.cssText = 'position: relative;';
      
      // Hamburger button (shows sidebar)
      const hamburgerBtn = document.createElement('button');
      hamburgerBtn.id = 'hamburgerBtn';
      hamburgerBtn.className = 'navbar-toggle-btn';
      hamburgerBtn.innerHTML = '<i class="bi bi-list" style="font-size: 1.75rem;"></i>';
      hamburgerBtn.setAttribute('aria-label', 'Open sidebar');
      hamburgerBtn.title = 'Open Menu';
      
      // Back button (hides sidebar)
      const backBtn = document.createElement('button');
      backBtn.id = 'backBtn';
      backBtn.className = 'navbar-toggle-btn';
      backBtn.innerHTML = '<i class="bi bi-arrow-left" style="font-size: 1.5rem;"></i>';
      backBtn.setAttribute('aria-label', 'Close sidebar');
      backBtn.title = 'Close Menu';
      backBtn.style.display = 'none';
      
      btnContainer.appendChild(hamburgerBtn);
      btnContainer.appendChild(backBtn);
      
      // Insert at the beginning of navbar
      const firstChild = navbar.firstElementChild;
      navbar.insertBefore(btnContainer, firstChild);
      
      // Open sidebar on hamburger click
      hamburgerBtn.addEventListener('click', function() {
        sidebar?.classList.add('show');
        overlay?.classList.add('show');
        document.body.classList.add('sidebar-open');
        hamburgerBtn.style.display = 'none';
        backBtn.style.display = 'inline-block';
      });
      
      // Close sidebar on back button click
      backBtn.addEventListener('click', function() {
        closeSidebar();
      });
    }
    
    // Close sidebar function
    function closeSidebar() {
      const hamburgerBtn = document.getElementById('hamburgerBtn');
      const backBtn = document.getElementById('backBtn');
      
      sidebar?.classList.remove('show');
      overlay?.classList.remove('show');
      document.body.classList.remove('sidebar-open');
      
      if (hamburgerBtn && backBtn) {
        hamburgerBtn.style.display = 'inline-block';
        backBtn.style.display = 'none';
      }
    }
    
    // Overlay click
    overlay?.addEventListener('click', closeSidebar);
    
    // Close on ESC key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && sidebar?.classList.contains('show')) {
        closeSidebar();
      }
    });
    
    // Close sidebar when clicking a nav link
    const navLinks = sidebar?.querySelectorAll('.nav-link');
    navLinks?.forEach(link => {
      link.addEventListener('click', function() {
        setTimeout(closeSidebar, 100);
      });
    });
  })();
</script> -->

<!-- Sidebar Toggle Script -->
<script>
  (function() {
    const sidebar = document.getElementById('adminSidebar');
    const overlay = document.getElementById('sidebarOverlay');
    const SIDEBAR_STATE_KEY = 'sidebarOpen'; // localStorage key
    
    // Create hamburger and back buttons in navbar
    const navbar = document.querySelector('.navbar .container-fluid');
    if (navbar) {
      // Create container for both buttons
      const btnContainer = document.createElement('div');
      btnContainer.style.cssText = 'position: relative;';
      
      // Hamburger button (shows sidebar)
      const hamburgerBtn = document.createElement('button');
      hamburgerBtn.id = 'hamburgerBtn';
      hamburgerBtn.className = 'navbar-toggle-btn';
      hamburgerBtn.innerHTML = '<i class="bi bi-list" style="font-size: 1.75rem;"></i>';
      hamburgerBtn.setAttribute('aria-label', 'Open sidebar');
      hamburgerBtn.title = 'Open Menu';
      
      // Back button (hides sidebar)
      const backBtn = document.createElement('button');
      backBtn.id = 'backBtn';
      backBtn.className = 'navbar-toggle-btn';
      backBtn.innerHTML = '<i class="bi bi-arrow-left" style="font-size: 1.5rem;"></i>';
      backBtn.setAttribute('aria-label', 'Close sidebar');
      backBtn.title = 'Close Menu';
      backBtn.style.display = 'none';
      
      btnContainer.appendChild(hamburgerBtn);
      btnContainer.appendChild(backBtn);
      
      // Insert at the beginning of navbar
      const firstChild = navbar.firstElementChild;
      navbar.insertBefore(btnContainer, firstChild);
      
      // CHANGE 1: Function to open sidebar and save state
      function openSidebar() {
        sidebar?.classList.add('show');
        overlay?.classList.add('show');
        document.body.classList.add('sidebar-open');
        hamburgerBtn.style.display = 'none';
        backBtn.style.display = 'inline-block';
        localStorage.setItem(SIDEBAR_STATE_KEY, 'true'); // Save state
      }
      
      // CHANGE 2: Function to close sidebar and save state
      function closeSidebar() {
        sidebar?.classList.remove('show');
        overlay?.classList.remove('show');
        document.body.classList.remove('sidebar-open');
        hamburgerBtn.style.display = 'inline-block';
        backBtn.style.display = 'none';
        localStorage.setItem(SIDEBAR_STATE_KEY, 'false'); // Save state
      }
      
      // CHANGE 3: Restore sidebar state on page load
      const savedState = localStorage.getItem(SIDEBAR_STATE_KEY);
      if (savedState === 'true') {
        openSidebar();
      } else {
        closeSidebar();
      }
      
      // Open sidebar on hamburger click
      hamburgerBtn.addEventListener('click', openSidebar);
      
      // Close sidebar on back button click
      backBtn.addEventListener('click', closeSidebar);
      
      // Overlay click
      overlay?.addEventListener('click', closeSidebar);
      
      // Close on ESC key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && sidebar?.classList.contains('show')) {
          closeSidebar();
        }
      });
      
      // CHANGE 4: Remove auto-close on navigation - state persists
      // (Removed the code that closes sidebar when clicking nav links)
    }
  })();
</script>